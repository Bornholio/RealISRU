+PART[FuelCellArray]
{
	@name = RealISRU_LiquefactionArray

	!MODEL {}
	MODEL
	{
		model = Squad/Parts/Resources/FuelCell/FuelCellArray
		scale = 1.0, 1.0, 1.0
	}
	MODEL
	{
		model = Squad/Parts/Resources/SurfaceScanner/SurfaceScanner
		scale = 1.0, 1.0, 1.0
		position = -0.0863, 0.2941, 0.0
		rotation = 0, 90, 0
	}
	MODEL
	{
		model = Squad/Parts/Science/sensorAccelerometer/model
		scale = 1.0, 1.0, 1.0
		position = -0.06134, 0.72369, 0.0
		rotation = 0, 90, 0
	}
	MODEL
	{
		model = Squad/Parts/Science/sensorAccelerometer/model
		scale = 1.0, 1.0, 1.0
		position = -0.06354, -0.10946, 0.0
		rotation = 0, 90, 0
	}

	@node_attach = .05, 0, 0, 1, 0, 0, 0

	@TechRequired = specializedElectrics
	@entryCost = 13500
	@cost = 4500
	@category = Utility
	@subcategory = 0
	@title = Liquefaction Array
	@manufacturer = Various
	@description = Uses a combination of active cooling and pressurization turbines to convert gasses into liquids.
	@attachRules = 0,1,0,0,0

	// --- standard part parameters ---
	@mass = 0.75
	@dragModelType = default
	@maximum_drag = 0.2
	@minimum_drag = 0.2
	@angularDrag = 2
	@crashTolerance = 7
	@maxTemp = 2000 // = 3000

	!MODULE[ModuleResourceConverter] {}
	!RESOURCE[ElectricCharge] {}

	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Liquefy Oxygen
		StartActionName = Start Liquefying Oxygen
		StopActionName = Stop Liquefying Oxygen
		AutoShutdown = false
		GeneratesHeat = true
		UseSpecialistBonus = false

		INPUT_RESOURCE
		{
			ResourceName = Oxygen
			Ratio = 1.5021884
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 10
		}
		OUTPUT_RESOURCE
		{
			ResourceName = LqdOxygen
			Ratio = 0.001856341493
			DumpExcess = false
		}
		ThermalEfficiency
		{
			key = 100 1
			key = 200 0.3333333333
			key = 300 0.2
			key = 400 0.1428571429
			key = 500 0.1111111111
			key = 600 0.09090909091
			key = 700 0.07692307692
			key = 800 0.06666666667
			key = 900 0.05882352941
			key = 1000 0.05263157895
			key = 1100 0.04761904762
			key = 1200 0.04347826087
			key = 1300 0.04
			key = 1400 0.03703703704
			key = 1500 0.03448275862
			key = 1600 0.03225806452
			key = 1700 0.0303030303
			key = 1800 0.02857142857
			key = 1900 0.02702702703
			key = 10000 0.005025125628
		}
		TemperatureModifier
		{
			key = 0 0.8591851322
		}
	}
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Liquefy Hydrogen
		StartActionName = Start Liquefying Hydrogen
		StopActionName = Stop Liquefying Hydrogen
		AutoShutdown = false
		GeneratesHeat = true
		UseSpecialistBonus = false

		INPUT_RESOURCE
		{
			ResourceName = Hydrogen
			Ratio = 2.534364569
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 10
		}
		OUTPUT_RESOURCE
		{
			ResourceName = LqdHydrogen
			Ratio = 0.003215799221
			DumpExcess = false
		}
		ThermalEfficiency
		{
			key = 100 1
			key = 200 0.3333333333
			key = 300 0.2
			key = 400 0.1428571429
			key = 500 0.1111111111
			key = 600 0.09090909091
			key = 700 0.07692307692
			key = 800 0.06666666667
			key = 900 0.05882352941
			key = 1000 0.05263157895
			key = 1100 0.04761904762
			key = 1200 0.04347826087
			key = 1300 0.04
			key = 1400 0.03703703704
			key = 1500 0.03448275862
			key = 1600 0.03225806452
			key = 1700 0.0303030303
			key = 1800 0.02857142857
			key = 1900 0.02702702703
			key = 10000 0.005025125628
		}
		TemperatureModifier
		{
			key = 0 0.1440057173
		}
	}

	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Liquefy Ammonia
		StartActionName = Start Liquefying Ammonia
		StopActionName = Stop Liquefying Ammonia
		AutoShutdown = false
		GeneratesHeat = true
		UseSpecialistBonus = false

		INPUT_RESOURCE
		{
			ResourceName = Ammonia
			Ratio = 29.2358536
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 10
		}
		OUTPUT_RESOURCE
		{
			ResourceName = LqdAmmonia
			Ratio = 0.03202160863
			DumpExcess = false
		}
		ThermalEfficiency
		{
			key = 100 1
			key = 200 0.3333333333
			key = 300 0.2
			key = 400 0.1428571429
			key = 500 0.1111111111
			key = 600 0.09090909091
			key = 700 0.07692307692
			key = 800 0.06666666667
			key = 900 0.05882352941
			key = 1000 0.05263157895
			key = 1100 0.04761904762
			key = 1200 0.04347826087
			key = 1300 0.04
			key = 1400 0.03703703704
			key = 1500 0.03448275862
			key = 1600 0.03225806452
			key = 1700 0.0303030303
			key = 1800 0.02857142857
			key = 1900 0.02702702703
			key = 10000 0.005025125628
		}
		TemperatureModifier
		{
			key = 0 7.623095429
		}
	}

	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Liquefy Methane
		StartActionName = Start Liquefying Methane
		StopActionName = Stop Liquefying Methane
		AutoShutdown = false
		GeneratesHeat = true
		UseSpecialistBonus = false

		INPUT_RESOURCE
		{
			ResourceName = Methane
			Ratio = 7.222546275
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 10
		}
		OUTPUT_RESOURCE
		{
			ResourceName = LqdMethane
			Ratio = 0.01216739663
			DumpExcess = false
		}
		ThermalEfficiency
		{
			key = 100 1
			key = 200 0.3333333333
			key = 300 0.2
			key = 400 0.1428571429
			key = 500 0.1111111111
			key = 600 0.09090909091
			key = 700 0.07692307692
			key = 800 0.06666666667
			key = 900 0.05882352941
			key = 1000 0.05263157895
			key = 1100 0.04761904762
			key = 1200 0.04347826087
			key = 1300 0.04
			key = 1400 0.03703703704
			key = 1500 0.03448275862
			key = 1600 0.03225806452
			key = 1700 0.0303030303
			key = 1800 0.02857142857
			key = 1900 0.02702702703
			key = 10000 0.005025125628
		}
		TemperatureModifier
		{
			key = 0 1.182179793
		}
	}
}
